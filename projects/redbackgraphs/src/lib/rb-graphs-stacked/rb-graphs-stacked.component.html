<table
    class="table">
        <tr
            class="mainrow">
            <td>
                <div
                    class="ydim"
                    *ngIf="ylabel != null">
                    Values
                </div>
            </td>
            <td
                class="ylabelcell">
                <div
                    class="ylabelcol">        
                    <div
                        class="ylabel"
                        *ngFor="let line of lines"
                        [style.flex-grow]="line.flex"
                        [style.flex-shrink]="line.flex">
                        <p>{{line.value}}</p>
                    </div>                                            
                </div>
            </td>
            <td
                class="maincell">
                <div
                    class="grid">           
                    <div
                        class="gridline"
                        *ngFor="let line of lines"
                        [style.flex-grow]="line.flex"
                        [style.flex-shrink]="line.flex">
                    </div>
                </div>
                <div
                    class="data">
                    <div
                        class="cat"
                        *ngFor="let cat of enhancedData">
                        <div
                            class="stack"
                            [style.flex-grow]="getStackBalanceFlex(cat)"
                            [style.flex-shrink]="getStackBalanceFlex(cat)">
                        </div>          
                        <div
                            class="stack"
                            *ngFor="let item of cat.series"
                            [style.flex-grow]="getStackFlex(item)"
                            [style.flex-shrink]="getStackFlex(item)"
                            (click)="clickItem(cat.code, item.code)">
                            <div
                                class="innerstack"
                                [style.background]="item.color">
                                <div
                                    class="label">
                                    <div
                                        class="labelname">
                                        {{item.label}}
                                    </div>
                                    <div
                                        class="labelvalue">
                                        {{item.value}}
                                    </div>                                    
                                </div>
                            </div>
                        </div>
                    </div>                    
                </div>
            </td>    
            <td>
                <div
                    class="legendbox">
                    <div
                        class="legenditem"
                        *ngFor="let le of legendEntries()">
                        <div
                            class="legendcolor"
                            [style.background]="le.color">
                        </div>
                        <div
                            class="legendlabel">
                            {{le.label}}
                        </div>
                    </div>               
                </div>
            </td>                       
        </tr>
        <tr>
            <td>
            </td>
            <td>
            </td>
            <td>
                <div
                    class="xlabels">
                    <div
                        class="xlabel"
                        *ngFor="let cat of enhancedData">
                        {{cat.label}}
                    </div>
                </div>
            </td> 
            <td>
            </td>                          
        </tr> 
        <tr>
            <td>
            </td>
            <td>
            </td>
            <td>
                <div
                    class="xdim"
                    *ngIf="xlabel != null">
                    Schools                
                </div>
            </td>
            <td>
            </td>            
        </tr>          
</table>
